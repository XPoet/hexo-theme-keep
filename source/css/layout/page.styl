$post-tools-offset = 'calc((100vw - %s / 2) - 5rem)' % $content-max-width

.page-container {
  width 100%
  height auto
  background var(--background-color-1)

  .page-main-content {
    display flex
    flex-direction column
    justify-content space-between
    min-height 100vh
    padding-top var(--header-height)

    &.is-home {
      .transparent-1 {
        background var(--header-transparent-background-1)
        backdrop-filter blur(4px)
      }

      .transparent-2 {
        background var(--header-transparent-background-2)
        backdrop-filter blur(5px)
      }
    }


    .header-shrink & {
      padding-top var(--header-shrink-height)


      +keep-tablet() {
        padding-top calc(var(--header-shrink-height) * 0.9)
      }

      +keep-mobile() {
        padding-top calc(var(--header-shrink-height) * 0.8)
      }
    }


    +keep-tablet() {
      padding-top calc(var(--header-height) * 0.9)
    }


    +keep-mobile() {
      padding-top calc(var(--header-height) * 0.8)
    }


    .page-main-content-top {
      position fixed
      top 0
      right 0
      z-index $z-index-5
      box-sizing border-box
      width 100%
      height var(--header-height)
      transition-t("transform, height", "0, 0", "0.3, 0.2", "ease-out, ease")

      &.hide {
        transform translateY(-105%)
      }

      .header-shrink & {
        height var(--header-shrink-height)

        +keep-tablet() {
          height calc(var(--header-shrink-height) * 0.9)
        }

        +keep-mobile() {
          height calc(var(--header-shrink-height) * 0.8)
        }
      }


      +keep-tablet() {
        height calc(var(--header-height) * 0.9)
      }


      +keep-mobile() {
        height calc(var(--header-height) * 0.8)
      }
    }


    .page-main-content-middle {
      display flex
      justify-content center
      width 100%
      padding $component-spacing-value 0

      +keep-tablet() {
        padding $component-spacing-value * 0.8 0
      }

      +keep-mobile() {
        padding $component-spacing-value * 0.6 0
      }

      .main-content {
        width $main-content-width
        max-width $content-max-width
        height 100%
        transition-t("max-width, width", "0, 0", "0.1, 0.1", "ease, ease")

        .has-toc & {
          max-width $has-toc-content-max-width
        }

        +keep-tablet() {
          width $main-content-width-tablet
        }

        +keep-mobile() {
          width $main-content-width-mobile
        }
      }
    }


    .page-main-content-bottom {
      width 100%
    }
  }


  .post-tools {
    position fixed
    top 'calc(var(--header-height) + %s)' % $component-spacing-value
    box-sizing border-box
    opacity 0
    transition-t("top, transform, opacity, left", "0, 0, 0.2, 0", "0.2, 0.2, 0.2, 0.2", "ease, ease, ease, ease")

    if (hexo-config('toc.layout') == 'left') {
      right $post-tools-offset
    }
    else {
      left $post-tools-offset
    }

    .header-shrink & {
      top 'calc(var(--header-shrink-height) + %s)' % $component-spacing-value
    }


    +keep-tablet() {
      display none !important
    }
  }


  .side-tools {
    position fixed
    right 0
    bottom 5%
    box-sizing border-box
  }


  .tablet-post-toc-mask {
    position fixed
    top 0
    right 0
    z-index $z-index-10
    box-sizing border-box
    width 100%
    height 100%
    background rgba(0, 0, 0, 0)
    visibility hidden
    transition-t("visibility", "0", "0.2", "ease")


    .tablet-post-toc {
      position absolute
      top 0
      left 0
      box-sizing border-box
      width 22rem
      height 100%
      padding 1.2rem 1rem
      background var(--background-color-1)
      transform translateX(-100%)
      transition-t("transform", "0", "0.4", "ease")

      +keep-mobile() {
        width 70%
      }
    }
  }
}
